<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="./jquery-3.7.1.min.js"></script>
    <style>
        .delTaskBtn{
            margin-left: 20px;
        }
    </style>
</head>
<body>
    <h1>To-Do List</h1>
    
    <input type="text" id="taskInput" placeholder="할 일을 입력하세요">
    <button id="addTaskBtn">추가</button>

    <ul id="taskList">
        <!-- 할 일 목록이 여기에 추가될 것입니다 -->
    </ul>

    <script>
        // 1. 할 일 추가 버튼 클릭시
        // - 입력된 내용을 읽어와서 새로운 할 일 목록에 추가

        // 할 일을 입력, 입력하지 않는다면 경고창
        // 내가 할 일을 입력하면 ul태그안 li태그위치에 추가됩니다. append()
        // 추가가 되면 내가 입력한 input태그는 비워져 있어야한다.

        // 2. 완료를 하지 못했을때
        // 미완료 내용에 대해 클릭을 했을 때 미완료로 변경

        // 3. 삭제 버튼 클릭 시
        // - 클릭된 삭제 버튼이 속한 할 일을 목록에서 제거
        // $(this).parent().remove()
        // closest('li') > 선택자와 일치하는 가장 가까운 상위요소를 찾아간다

        $('button').on('click', () => {
            let to_do = $('input').val();

            if (to_do == '') {
                alert('할 일을 입력해주세요')
            }else if (to_do !== '') {
                $('ul').append('<li>' + to_do + '<button class="delTaskBtn">삭제</button></li><br>')
                $('input').val('');
                $('#taskList').on('click', 'li', function() {
                    $(this).html('미완료<button class="delTaskBtn">삭제</button>');
                });
            }
            
        });


        $('#taskList').on('click', '.delTaskBtn', function() {
            $(this).closest('li').next('br').remove();
            $(this).parent().remove();
        });




    </script>
</body>
</html>